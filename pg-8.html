<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style8.css" />
  </head>
  <body
    class="body height-base lang-en sponsor-FR dir-ltr section-quiz housing-type page-Type device-Desktop"
  >
    <div class="bg">
      <div class="quiz-layout">
        <div class="quiz-header">
          <div class="lines-container">
            <ul id="liner" class="lines">
              <li class="active m"></li>
              <li class="inactive m"></li>
              <li class="inactive m"></li>
              <li class="inactive m"></li>
              <li class="inactive m"></li>
              <li class="inactive m"></li>
              <li class="inactive m"></li>
              <li class="inactive"></li>
              <li class="inactive"></li>
              <li class="inactive"></li>
              <li class="inactive"></li>
              <li class="inactive"></li>
              <li class="inactive"></li>
            </ul>
          </div>
          <div class="logo-container">
            <div class="logo-main">
              <ul>
                <li class="flip-in-x">
                  <a href="https://www.footprintnetwork.org/" target="_blank">
                    <div class="powered-by">
                      <span class="blue"> Created and powered by </span>
                      <img src="assets/logo-GFN-blue.png" alt="" />
                    </div>
                  </a>
                </li>
              </ul>
            </div>
            <div class="logo-sponsor">
              <ul>
                <li>
                  <div class="cta donate capitalize cta-hvr flip-in-x">
                    <a
                      href="https://connect.clickandpledge.com/w/Form/3dd0f73e-d942-4869-a6f6-5eb00c0bebcb"
                      >Donate</a
                    >
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="cloudcont">
          <div class="clouds">
            <img src="assets/cloud1.png" alt="" class="cloud c1" />
            <img src="assets/cloud2.png" alt="" class="cloud c2" />
            <img src="assets/cloud3.png" alt="" class="cloud c3" />
          </div>
        </div>
        <div class="wrapper">
          <div class="content fade-in-fwd-with-delay">
            <p class="caption">Housing</p>
            <div class="question-container">
              <h1 class="main-title">
                What percentage of your home's electricity comes from renewable
                sources?
                <span
                  class="info"
                  triggers="click:blur" id="dfs"
                  aria-describedby="ngb-tooltip-1"
                ></span>
                <div class="tooltip-inner" style="display: none" id="bfs">
                  About 14% of global primary energy consumption came from
                  renewable, hydro, and nuclear in 2016, according to the BP
                  Statistical Review of World Energy (June 2017).
                </div>
              </h1>
              <h3 class="sub-title">
                (either directly or through purchased green power)
              </h3>
            </div>
            <div class="slider-container" style="min-height: 11rem">
              <div class="slider-wrapper">
                <div class="hslider">
                  <div class="min-value">LOW</div>
                  <div class="slider">
                    <div class="slider-filled"></div>
                    <div class="slider-thumb"></div>
                  </div>
                  <div class="max-value">HIGH</div>
                </div>
                <div class="sliderValue">
                  <div class="value" id="frst">0%</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <a
          href="pg-7.html"
          class="larrow"
          style="background-image: url(assets/left.png); z-index: 999"
        >
        </a>
        <a
          href="pg-9.html"
          class="rarrow"
          style="background-image: url(assets/right.png); z-index: 999"
        >
        </a>

        <footer class="footer-container">
          <div
            class="grass"
            style="
              background-image: url('assets/HousingRenewableResourcesDesktop.png');
            "
          ></div>
        </footer>
      </div>
    </div>
    <script>
      const slider = document.querySelector(".slider");
      const filled = document.querySelector(".slider-filled");
      const thumb = document.querySelector(".slider-thumb");

      let isDragging = false;

      slider.addEventListener("mousedown", (e) => {
        isDragging = true;
        updateSlider(e);
      });

      slider.addEventListener("touchstart", (e) => {
        isDragging = true;
        updateSlider(e.touches[0]); // Use the first touch for simplicity
      });

      document.addEventListener("mousemove", (e) => {
        if (isDragging) {
          updateSlider(e);
        }
      });

      // document.addEventListener("touchmove", (e) => {
      //   if (isDragging) {
      //     e.preventDefault(); 
      //     updateSlider(e.touches[0]);
      //   }
      // });

      document.addEventListener("mouseup", () => {
        isDragging = false;
      });

      document.addEventListener("touchend", () => {
        isDragging = false;
      });

      function updateSlider(e) {
        const sliderRect = slider.getBoundingClientRect();
        const offsetX = e.clientX - sliderRect.left;
        const sliderWidth = sliderRect.width;
        const percentage = Math.min(
          100,
          Math.max(0, (offsetX / sliderWidth) * 100)
        );
        let perr=Math.floor(percentage);
        localStorage.setItem("pg-8-percentage:",perr)

        filled.style.width = percentage + "%";
        thumb.style.left = percentage + "%";

        var y = document.getElementById("frst");
        const per = percentage;
        y.innerHTML = Math.floor(per) + "%";
      }
      const hoverElement = document.getElementById("dfs");
      const bfs=document.getElementById("bfs")
      hoverElement.addEventListener("mouseenter", () => {
          bfs.style.display=("block")
      });

      hoverElement.addEventListener("mouseleave", () => {
        bfs.style.display=("none")
      });
    </script>
  </body>
</html>
